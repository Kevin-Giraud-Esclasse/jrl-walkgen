#!/bin/bash
set -e

# Set debug mode
set -x
set -v

# Add robotpkg
sudo sh -c "echo \"deb http://robotpkg.openrobots.org/packages/debian precise robotpkg\" >> /etc/apt/sources.list "
curl http://robotpkg.openrobots.org/packages/debian/robotpkg.key | sudo apt-key add -

# show memory usage before install
sudo free -m -t

# Setup environment variables.
export APT_DEPENDENCIES="doxygen doxygen-latex libboost-all-dev libeigen3-dev liblapack-dev libblas-dev gfortran"
# Add Robot dependencies
export APT_DEPENDENCIES=$APT_DEPENDENCIES" robotpkg-metapod"

# When this script is called the current directory is ./custom_travis
. ./.travis/run ../.travis/before_install

# End debug mode
set +v
set +x
